primarybg = #2c2c2c;
secondarybg = #252525;
boxbg = #1f1f1f;
navbarsidebar = #111112;
primaryborder = #4d4d4d;
primarytext = #e0e0e0;
secondarytext = #cfcfcf;
tertiarytext = #a6a6a6;




/*
Google Classroom Dark Theme
Since there was no good dark theme for Google Classroom that updates frequently, and
the Dark Reader extension didn't work well, I decided to create my own dark theme for
Google Classroom.

3.5.0 (2025-10-23):
- Fix another redesign in Google Classroom (at least they use the variables now)
  - Fix announcements in stream
  - Fix polls
  - Fix free response question box background
- Remove double underline fix as it was fixed by Google
*/



  // Built-in variables
  // Most elements in Google Classroom use these
  :root {
    --gm3-sys-color-surface: primarybg // Main background
    
    --gm3-sys-color-surface-container-low: navbarsidebar // Navbar and sidebar background
    --gm3-sys-color-on-surface-variant: primarytext // Navbar and sidebar text
    
    --gm3-sys-color-secondary-container: #414141 // Selected class in sidebar background
    --gm3-sys-color-on-secondary-container: #ffffff // Selected class in sidebar text
    --gm3-focus-ring-inward-color: #606060 // Border around clicked class in sidebar
    
    --gm3-sys-color-on-surface: #ffffff // Hovered button text
    
    --gm3-button-filled-disabled-container-color: #363636 // Disabled button background
    --gm3-button-filled-disabled-label-text-color: #797979 // Disabled button text
    
    --gm3-icon-button-standard-disabled-icon-color: #535353 // Disabled icon button (including comment)
    --gm3-button-text-disabled-label-text-color: #474747 // Disabled button text in popup boxes
    
    --gm3-menu-container-color: #1f1f1f // Context menu (triple dot or help button)
    
    --gm3-card-outlined-outline-color: primaryborder // Border around currently signed in box in Join class menu
    --gm3-card-outlined-hover-outline-color: primaryborder // Border around currently signed in box in Join class menu
    
    --gm3-text-field-filled-container-color: #303030 // Add link textbox
    --gm3-text-field-filled-hover-state-layer-color: #141414 // Add link textbox hovered
    
    --gm3-autocomplete-filled-menu-container-color: #191919 // Autocomplete dropdown in textboxes
    --gm3-select-filled-text-field-container-color: #1c1c1c // Dropdown
    
    --gm3-datepicker-container-color: #303030 // Date picker background
    --gm3-datepicker-date-unselected-outside-month-label-text-color: #747474 // Date picker other month date
    
    --gm3-sys-color-outline-variant: primaryborder // Border
    
    --gm3-sys-color-surface-container-high: #141414 // Quick links hovered background
    
    --gm3-sys-color-primary-container: #404040 // Information notifications at the top of the home page
    --gm3-sys-color-primary: #407de2 // Links and close button in the information notification
    
    --gm3-sys-color-surface-container: boxbg // Announcements and assignments in stream
    --gm3-sys-color-surface-container-highest: #171717 // Hovered announcements and assignments in stream
    
    --gm3-sys-color-on-primary-container: #acbddd // Text on colored background (winning poll option)
    
    --gm3-sys-color-surface-variant: #171717 // Poll option (did not win), answer box in free response question assignments
    --gm3-sys-color-surface-dim: #343434 // Poll option progress (did not win)
  }
  
  .O68mGe-xl07Ob {
    --gm3-list-divider-color: primaryborder // Context menu dividers
  }
  .S1oK3c {
    // Hover over triple dot in home page
    --gm3-icon-button-standard-unselected-focus-icon-color: #ffffff
    --gm3-icon-button-standard-unselected-hover-icon-color: #ffffff
    --gm3-icon-button-standard-unselected-icon-icon-color: #ffffff
    --gm3-icon-button-standard-unselected-pressed-icon-color: #ffffff
  }
  .rHGeGc-YPmvEd {
    // Dropdown menu
    --gm3-menu-container-color: #1f1f1f // Background
    --gm3-list-list-item-selected-container-color: #2e2e2e
  }
  .qdOxv-fmcmS-yrriRe-OWXEXe-INsAgc:not(.qdOxv-fmcmS-yrriRe-OWXEXe-OWB6Me):not(.qdOxv-fmcmS-yrriRe-OWXEXe-XpnDCe):hover {
    // Hover over class code text box
    --gm3-notched-outline-border-color: #888888
  }
  .w482V-O1htCb:hover .w482V-CZC2Ab-i5vt6e {
    // Change border color of hovered dropdown
    --gm3-sys-color-on-surface: #8d8d8d
  }
  .RuSUmb {
    --pkw-background: secondarybg // List of contacts when inviting students
  }
  .YlUIU {
    // Polls
    --gm3-sys-color-primary-container: #17181c // Winning poll option
    .WF4XOe {
      // Winning poll option progress (doesn't use variables for some reason)
      background-color: #2d3348
      opacity: 1
    }
  }
  
  
  // Non-variable elements
  body
  .V8apv // Answer box in free response question assignments
  {
    background-color: primarybg
    color: primarytext
  }
  
  .mwJvDe .KEDCCd, // Button bar in class (Stream, Classwork, People)
  .DC55n td        // Classmate names in "Classmate answers" section
  {
    background-color: primarybg
    border-color: primaryborder
  }
  
  .Aopndd, // LEGACY UI: Announcement and assignment boxes in stream
  .d4Fe0d  // Boxes to the left of stream (Upcoming, Quick Links, Meet, etc.)
  {
    background-color: secondarybg
    border-color: primaryborder
  }
  
  .TgJ2ub .IzVHde, // Class details
  // Start of assignment in Classwork section clicked
  .Iwp0Ue:not(.xp2dJ):focus-within.JiTjnd,
  .Iwp0Ue:not(.xp2dJ):focus-within.h7Ww0,
  .Iwp0Ue:not(.xp2dJ) :focus-within.JiTjnd,
  .Iwp0Ue:not(.xp2dJ) :focus-within.h7Ww0,
  .xWw7yd:focus-within.JiTjnd, .xWw7yd:focus-within.h7Ww0,
  .xWw7yd :focus-within.JiTjnd, .xWw7yd :focus-within.h7Ww0
  // End of assignment in Classwork section clicked
  {
    background-color: primarybg;
  }
  
  .SZ0kZe, .s2g3Xd,               // Borders separating sections in boxes
  .nl5VRd,                        // Border between assignment name/date and assignment text
  .ar1wE .eqqrO, .ySjuvd .eqqrO,  // Border between assignment text and class comments in assignment page
  .SUV7We,                        // Border between assignment name and class comments button in stream
  .q1Kmyc,                        // Comment textbox border
  .svNSpd,                        // Add file/link buttons in announcement creation box
  .Niache,                        // Border between file/link preview and title
  .VKRoqe,                        // Separator between category ("Teachers"/"Classmates") and people in People list
  .ycbm1d, .d6CWTd,               // Separator between people in People list
  .MHxtic:not(:last-child),       // Assignments in To-do
  .LKqFXc,                        // Border above "View all" in To-do
  .LDr2ne,                        // Border separating Originality reports and sections around it in "Your work"
  .qj5L0,                         // Border separating files and "_ attachments will be submitted for __"
  .Iwp0Ue:not(:first-child),      // Assignments in Classwork section
  .lXuxY .u73Apc, .O9YpHb,        // Borders for assignments in Classwork section
  .McVlQd::after, .ycJpzc::after, // Rounded border at bottom of assignment when clicked in Classwork section
  .hja3X,                         // Create assignment right sidebar border
  .ECK80e,                        // Due date & time border
  .RcHwO,                         // Border between assignment name and description in Stream page
  .RIDjNe,                        // Border between days in Calendar
  .TgJ2ub .iy4mWc .COwiKd,        // Border between assignments in Upcoming box
  .a4YS1c,                        // Border between classmate list and response in "Classmate answers" section
  .hYt5f.FRDm8d :is(.WkZsyc, .Kql9ed):not(:last-child), // Border between classmate resposnses in "Classmate answers" section
  .ft5Sbf,                        // Border around rubric in assignment
  .OK63Pb:not(:last-child),       // Border between rubric categories is assignment
  .QV10Af,                        // Border separating student list and bottom bar in choosing students in "Announce to" popup
  .bNkTzb, .CobWe                 // Borders in "Invite students" popup
  .TgJ2ub .svNSpd,                // Border around items to add when posting announcement
  .BQ5ILd,                        // Border between top bar and students that submitted assignment in educator assignment details
  .pvb7Pc,                        // Border in edit announcement popup
  .cmTiyd,                        // Border in select class popup
  .C4yF5e
  {
    border-color: primaryborder
  }
  
  .asQXV, // Announcement authors and assignment titles in stream
  .TgJ2ub .zuV2Cf,  //"Quick Links" and "Meet" in boxes left of stream
  .EZrbnd, // "Upcoming" in box left of stream
  .B7SYid, // Assignment titles in assignment page
  .A6dC2c, .saYe1e, // Link titles
  .TgJ2ub .ARTZne.onkcGd, .TgJ2ub .ARTZne.onkcGd:visited, // Assignment titles in Upcoming box
  .z3vRcc, .tDxNLe, // "Your Work" in assignment page
  .WOPwXe, // Due date ranges in To-do (No due date, This week, Next week, Later)
  .cC1eCc .VfPpkd-k2Wrsb, // Turn in confirmation popup title
  .ksaOtd, // Received score in To-do Done section
  .Eajscb .vT1Gyc.N4XV7d, // Future dates in Calendar page
  .nk37z, .lziZub, .lziZub:visited, // Classmate response in "Classmate answers" section
  .slDfNd, .slDfNd:visited, .U0QIdc, .U0QIdc:visited, // Topic names in Classwork page
  .yPtghd, // Practice set name at top
  .vaUyHb, // Class code in large display
  .HZ3kWc, // Category dropdown for assignment status (turned in, assigned, graded)
  .WOPwXe-Wvd9Cc, // Select class title in reuse post popup
  .jlfrG // Rubric grade categories
  {
    color: primarytext
  }
  
  .YLFC3e:hover, .YLFC3e:focus, .YLFC3e:focus-within,  // Quick links hovered
  .TJtJXb:hover td, .tYQn5c:hover td, .DC55n:hover td, // Classmate name in "Classmate answers" section hovered
  .aSjeL.aSjeL td,                                     // Classmate name in "Classmate answers" section selected
  .thP79c:hover                                        // Hovered class in select class popup
  {
    background-color: #343434
  }

  
  .TgJ2ub .xo2x2e,               // "Woohoo, no work due soon!"
  .TgJ2ub .COwiKd,               // Assignment due day in Upcoming box
  .zuzKle.xVPuB, .zuzKle.vnnr5e, // Comment textbox
  .tLDEHd,                       // Comment and assignment text
  .K6Ovqd,                       // LEGACY UI: "Announce something to your class" text
  .cC1eCc .VfPpkd-cnG4Wd,        // Turn in confirmation popup text
  .Evt7cb, .Evt7cb:visited,      // Turn in confirmation popop file names
  .asQXV-FGzYL,                  // Max score in To-do, or "Turned in"
  .i9glDf,                       // Bold text
  .s7bwNb,                       // "Due date & time" in create assignment popup
  .iLjzDc,                       // Create assignment labels
  .TgJ2ub .nZCyt,                // Type of assignment in assignment box in Classwork section
  .ViCi4,                        // "Invite link" text when inviting students
  .YrFhrf,                       // Number of students that turned in/did not turn in assignment
  .tLDEHd-Wvd9Cc,                // Class name in select class popup
  .FMzRdf                        // Rubric description
  {
    color: secondarytext
  }
  
  .cSyPgb,                  // Assignment author and date
  .dDKhVc,                  // "Originality reports available" above assignment uploaded work, assignment description in Stream page
  .udxSmc,                  // "Done late" or "Not turned in" in To-do Done section
  .zuV2Cf,                  // Quick link name
  .IMvYId, .IMvYId:visited, // Date in "Classmate answers" section
  .TgJ2ub .wCDkmf,          // Assignment due date in Classwork section
  .CxlSNe,                  // Last saved date in practice set
  .RMrItf,                  // Rubric in assignment max points
  .cC1eCc .VfPpkd-zMU9ub    // X button at top right when displaying class code
  {
    color: tertiarytext
  }
  
  .TisIWb .kKn9Nc::before, // Background behind class box in home page (only visible when reordering classes)
  .cC1eCc .VfPpkd-P5QLlc,  // On-screen popup
  .IzVHde,                 // Class information
  .QV10Af,                 // Bottom bar in choosing students in "Announce to" popup
  {
    background-color: secondarybg
  }
  
  .TdC1bb, // Create announcement popup background
  .y2d25   // Due date/time popup in create assignment popup
  {
    background-color: #1b1b1b
  }
  
  .Iwp0Ue:not(.xp2dJ):not(.rZXyy):hover.rXdid,
  .Iwp0Ue:not(.xp2dJ):not(.rZXyy):hover.h7Ww0,
  .Iwp0Ue:not(.xp2dJ):not(.rZXyy):hover .rXdid,
  .Iwp0Ue:not(.xp2dJ):not(.rZXyy):hover .h7Ww0,
  .xWw7yd:hover.rXdid, .xWw7yd:hover.h7Ww0,
  .xWw7yd:hover .rXdid, .xWw7yd:hover .h7Ww0
  {
    // Hovered assignments that also show description in Stream page
    background-color: #202020
  }
  
  .OK1tJe {
    background-color: #383838
  }
  .R5iLrf.u3bW4e, .R5iLrf.yXgmRe:hover {
    background-color: #343434
  }
  
  
  .cLpBac {
    // Dropdown box
    background-color: #1c1c1c
  }
  .JPdR6b {
    // Dropdown itself
    background-color: #2c2c2c
  }
  .z80M1.FwR7Pc {
    // Dropdown hovered option
    background-color: #363636
  }
  
  .ncFHed {
    // Category dropdown for assignment status (turned in, assigned, graded)
    background-color: secondarybg
  }
  .MocG8c.RDPZE {
    // Category dropdown disabled option
    color: #828282
  }
  
  
  
  // Manual fixes
  .jlfrG::before, .jlfrG::after, .jlfrG::before, .jlfrG::after, .jlfrG.u3bW4e::before, .jlfrG.u3bW4e::after, .jlfrG.yXgmRe:hover::after {
    // Remove gradient on rubric cards (normally invisible in light mode)
    background: none
  }
  
  .TgJ2ub .VfoFfe // Border in class code display
  {
    // Hide unnecessary border
    border-color: transparent
  }
  
  
  .GWZ7yf, // Your answer box in assignment page, LEGACY UI: "Announce something to your class" box
  .rZXyy.YwNp1, .rZXyy:not(.u0dx8e):not(.ILo0B):not(.xp2dJ):hover, .rZXyy:not(.u0dx8e):not(.ILo0B):not(.xp2dJ):focus, // Hovered classes
  .lXuxY, .pO6AMc, .PqkECe // Selected assignment in Classwork section
  {
    // Darken box shadows
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, .5),0 2px 6px 2px rgba(0, 0, 0, .25)
    background-color: secondarybg
    border: 1px solid primaryborder
  }
  .MHxtic:hover {
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, .5),0 2px 6px 2px rgba(0, 0, 0, .15)
  }
  .lXuxY, .pO6AMc, .PqkECe {
    // Fix selected assignment in Classwork section not having border on top
    border-top: 1px solid primaryborder !important
  }
  
  
  
  .qk0lee:focus::after {
    // LEGACY UI: Create announcement box clicked
    background-color: primarybg
  }
  .hgjBDc {
    // Create announcement popup (contains textbox)
    background-color: secondarybg
  }
  .vnnr5e:not(.RDPZE):not(.u3bW4e) :is(.I9OJHe, .CIy9F), // LEGACY UI: Create announcement textbox
  .vnnr5e .I9OJHe, .vnnr5e .CIy9F, // Create announcement textbox not hovered
  .ghqpJb .i2Zkcd:not(.VfPpkd-fmcmS-yrriRe-OWXEXe-OWB6Me) // Points number box in create assignment popup
  {
    background-color: #1c1c1c
  }
  .vnnr5e:not(.RDPZE):not(.u3bW4e):hover :is(.I9OJHe, .CIy9F) {
    // Create announcement textbox hovered
    background-color: #202020
  }
  .vnnr5e:not(.RDPZE):not(.u3bW4e):hover .I9OJHe.vTcY1d .snByac {
    // Create announcement textbox placeholder ("Announce something to your class") hovered
    color: tertiarytext
  }
  
  
  :is(.xVPuB, .vnnr5e, .XpxsVb) .Aworge {
    // Text formatting buttons
    color: #a6a6a6
  }
  .EN2Rfc:not(.RDPZE) .XTO5bf:hover, .EN2Rfc:not(.RDPZE) .XTO5bf.y7OZL {
    // Text formatting buttons hovered
    color: #fff
  }
  .EN2Rfc:not(.RDPZE) .XTO5bf.y7OZL {
    // Text formatting buttons enabled
    background-color: #3e3e3e
  }
  
  
  .N6nSod {
    // Help button at bottom right
    background-color: primarybg
  }
